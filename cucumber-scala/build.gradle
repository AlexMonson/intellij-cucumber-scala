plugins {
  id "org.jetbrains.intellij" version "0.4.18"
  id "scala"
}

group 'com.github.danielwegener'
version "${versions.idea}"
sourceCompatibility = 1.8

dependencies {
  compileOnly libs.scala
}

intellij {
  pluginName 'intellij-cucumber-scala'
  version "${versions.idea}"
  type "IC"

  plugins = [
    "cucumber-java:${versions.cucumber}",
    "gherkin:${versions.gherkin}",
    "java",
    "org.intellij.scala:${versions.scalaPlugin}"
  ]
  updateSinceUntilBuild false
}

publishPlugin {
  token findProperty("PUBLISH_TOKEN") ?: System.getenv("PUBLISH_TOKEN")
}